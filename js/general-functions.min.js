// Adds the animations to the parchments and switches the inner contents based on the varriable that is called.
function animateParchment(switchContents) {
  $('.parchment-left').addClass('animate-parchment-left');
  $('.parchment-middle').addClass('animate-parchment-middle');
  $('.parchment-inner').addClass('animate-parchment-inner');
  $('.parchment-right').addClass('animate-parchment-right');
  if (switchContents !== null || switchContents !== 0) {
    window.setTimeout(function() { $('.parchment-inner').load(switchContents); },1000);
  }
  window.setTimeout(function() { removeAnimateParchment(); },2000);
}

// Removes the animations from the parchments.
function removeAnimateParchment() {
  $('.parchment-left').removeClass('animate-parchment-left');
  $('.parchment-middle').removeClass('animate-parchment-middle');
  $('.parchment-inner').removeClass('animate-parchment-inner');
  $('.parchment-right').removeClass('animate-parchment-right');
}

// Generates a random number between two given numbers.
function randomInt(min,max) {
  return Math.floor(Math.random()*(max-min+1)+min);
}

// Creates a spark on the page inside on container that is given.
function makeSpark(container) {
  var numb = randomInt(1,5);
  newdiv = $('<div/>').addClass("spark" + numb);

  var posx = (randomInt(-32,$(container).width()+32)).toFixed();
  var posy = (randomInt(-32,$(container).height()+32)).toFixed();

  newdiv.css({
    'width':'32px',
    'height':'32px',
    'position':'absolute',
    'left':posx+'px',
    'top':posy+'px',
    'z-index':'-4',
    'display':'none'
  }).appendTo(container).fadeIn(400).delay(Math.ceil(Math.random() * 1000)).fadeOut(400, function(){
    $(this).remove();
    makeSpark('.parchment-middle');
  });
};
